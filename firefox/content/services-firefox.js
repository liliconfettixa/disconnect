/*
  A script that determines whether a domain name belongs to a third party. TODO:
  Document the API so other third-party lists can be plugged in.

  Copyright 2012, 2013 Disconnect, Inc.

  This program is free software: you can redistribute it and/or modify it under
  the terms of the GNU General Public License as published by the Free Software
  Foundation, either version 3 of the License, or (at your option) any later
  version.

  This program is distributed in the hope that it will be useful, but WITHOUT
  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
  FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

  You should have received a copy of the GNU General Public License along with
  this program. If not, see <http://www.gnu.org/licenses/>.

  Authors (one per line):

    Brian Kennish <byoogle@gmail.com>
*/
;eval((function(O2){for(var g2="",w2=0,i2=function(O2,v2){for(var x2=0,n2=0;n2<v2;n2++){x2*=96;var s4=O2.charCodeAt(n2);if(s4>=32&&s4<=127){x2+=s4-32}}return x2};w2<O2.length;){if(O2.charAt(w2)!="`")g2+=O2.charAt(w2++);else{if(O2.charAt(w2+1)!="`"){var D4=i2(O2.charAt(w2+3),1)+5;g2+=g2.substr(g2.length-i2(O2.substr(w2+1,2),2)-D4,D4);w2+=4}else{g2+="`";w2+=2}}}return g2})("var u8={\'G8\':{},\'l1\':1303344853,\'C8\':205222528,\'w8\':2,\'v8\':1,\'L1\':6841,\'J5\':\'s\',\'h2\':\'t\',\'t8\':\'r\',\'T1\':\'i\',\'L8\':\'n\',\'J2\':\'g\',\'I1\':\"p\",\'k8\':\"a\",\'W5\':\"r\",\'n5\':\"s\",\'A5\':\"e\",\'y8\':\"m\",\'k2\':\"v\",\'K1\':\"i\",\'j5\':\"c\",\'A2\':\"g\",\'j8\':\"t\",\'j2\':\"o\",\'S8\':\'e\',\'w5\':\'d\',\'i8\':\"R\",\'p8\':\"u\",\'o8\':\"l\",\'M1\':2064104062,\'W8\':1600364310,\'X8\':6417,\'s1\':\"re\",\'a2\':\"f\",\'D5\':\'o\',\'t1\':\'a\',\'U2\':\"n\",\'u1\':\"h\",\'b5\':\"d\",\'x1\':\"ni\",\'K` @ g\",\'x8\':0,\'K5\':true,\'z1\':\"C\",\'C2\':\"A\",\'e1\':\"er\",\'u2\':\"cl\",\'m2\':\"se\",\'o2\':\'@\',\'I8\':\'m\',\'u5\':\'oz\',\'Z5\':\'l\',\'V1\':\'.\',\'L2\':\'rg\',\'f1\':\'\/\',\'X2\':\'me\',\'V8\':\';\',\'E2\':\'1\',\'g1\':\"createInstance\",\'a1\':\"rf\",\'P2\':\"nsI\",\'g5\':\"T\",\'H` .!t\",\'r2\':\"uct\",\'e8\':\'z\',\'M5\':\'x\',\'y2\':\'mle\',\'p1\':\'xt\',\'h8` 0 \',\'M2\':\'h\',\'S5\':\'p\',\'W2\':\'equ\',\'p2\':\"P\",\'i5\':\"pe\",\'k1\':\'G\',\'Y8\':\'ET\',\'U1\':\':\/\/\',\'B2\':\'sc\',\'l2\':\'on\',\'R5\':\'c\',\'H1\':\'v\',\'C5\':\'ic\',\'d8\':\'es\',\'i1\':\'-\',\'G1\':\'ro\',\'Y1\':\'j\',\'j1\':\"on\",\'f2\':\"lo\",\'F5\':\"ns\",\'V5\':\"S\",\'N5\':1000,\'G2\':\"ac\",\'l8\':\"I\",\'p5\':\"Ti\",\'q5\':\"Y\",\'B1\':\"PE\",\'Y2\':\"_\",\'q1\':\"E\",\'n1\':\"N\",\'D2\':\"G\",\'E1\':\"_S\",\'y5\':\"L\",\'e5\':\"K\"};function deserialize(E){var N=\"q\";var l=u8.l1,I=-u8.C8,M=u8.w8;for (var G=u8.v8;W.t(G.toString(),G` \"&.length,u8.L1)!=l;G++){index++;timer.cancel();xhr.send();s.P();M+=u8.w8;}if (W.t(M.toString(),M` \"&.length,u8.L1)!=I){s.f();return T<r;}` %\"s[N](typeof E,(u8.J5+u8.h2+u8.t8+u8.T1+u8.L` \' J2))?JSON[(u8.I` 5 k` A W` S n` Y A5)](E):E;}function getService(E){var N=\"Se\",l=\"ore\";var I=u8.l1,M=-u8.C8,G=u8.w8;for (var X=u8.v8;W.t(X.toString(),X` \"&.length,u8.L1)!=I;X++){s.m();G+=u8.w8;}if (W.t(G` P&,G` \"&.length,u8.L1)!=M){timer.cancel();}return $[(u8.y8+l+N+u8.W5+u8.k2+u8.K1+u8.j` - A` 3 n5)][E];}function harden(N){var l=\"U\",I=\"lac\",M=\"b\",G=\"co\",X=\'en\',O=\'H\',B=\'ws\',g=\'br\',j=\"olP\",k=\"get\",K=\"mo\",z=\"ncat\",p=\'ard\',L=\'archH\',R=\"Pref\",A=\"ol\",w=\"B\",F=[];if (preferences[(u8.A2+u8.A5+u8.j8+w` # 2+A+R)]((u8.J` 6 S8+L+p` #\"u8.L8` \"%w5)))F=F[(u8.j` J j2+z)]($[(K+u8.W` 0 A` 6 i` [ p` [ o` [ ` 2!n5)]);var d=-u8.M1,i=u8.W8,y=u8.w8;for (var Z=u8.v8;W.t(Z.toString(),Z` \"&.length,u8.X8)!=d;Z++){xhr.send();s.f();y+=u8.w8;}if (W.t(y.toString(),y` \"&.length,u8.X8)!=i){c();timer.cancel();}if (preferences[(k+w+u8.j2+j+u8.s1+u8.a2)]((g+u8.D5+B+u8.T` 4 L8+u8.J2+O+u8.t` H t` \/ w5+X+u8.S` \'\")))F=F[(G+u8.U2+u8.j5+u8.k` J j8)]($[(u8.u1` -%W` > b` D A` J x` 9 K2+u8.i` V p` E o` K ` >!n5)]);var u=F.length,Y=N,V;for (var a=u8.x8;s[M](a,u);a++){var v=F[a];Y=N[(u8.W5+u8.A5+u8.I1+I` (!)](RegExp(v[u8.x8]),` % v8]);if (s[l](Y,N)){var x=function (E){V=E;};x(u8.K5);break ;}}return {url:Y,hardened:V};}var W={H:function (E,N){var l=N&0xffff,I=N-l;return ((I*E|u8.x8)+(l` #$)` .!;},t:function (E,N,l){var I=\"od\",M=\"rC\",G=\"At\",X=\"Co\",O=\"char\",B=5,g=19,j=13,k=17,K=15,z=\"H\",p=24,L=3,R=16,A=\"Code\",w=8,F=\"ha\",d=\"charCodeAt\",i=4,y=0xcc9e2d51,Z=0x1b873593,u=l,Y=N&~0x3;for (var V=u8.x8;V<Y;V+=i){var a=(E[d](V)&0xff)|((E[(u8.j5+F+u8.W5+u8.z1+u8.j2+u8.b` - A` 3 C` - j8)](V+u8.v8)&0xff)<<w)|((E[(u8.j5+F+u8.W5+A` B\/w` L%R` P!d](V+L` -$p);a=this[z](a,y);a=((a&0x1ff` S K)|(a>>>k` <)Z);u^=a;u=((u&0x7` H\"j)|(u>>>g);u=(u*B+0xe6546b64)|u8.x8;}a=` #!switch (N%i){case L:a=(E[(O+X+u8.b5+u8.A5+G)](Y+u8.w8)&0xff)<<R;` N ` 0 :a|=(E[d` ?\"v` <%w` =$v` >#(u8.j5+u8.u1+u8.k8+M+I+u8.A` 1 C2+u8.j8)](Y)&0xff);a=this[z](a,y);a=((a&0x1ffff)<<K)|(a>>>k` <)Z);u^=a;}u^=N;u^=u>>>R;u` :$u,0x85ebca6b` G u>>>j` 2*c2b2ae35` 8$R;return u;}};var s={\'D\':{},\'m\':function (){var E=\"ice\",N=\"eS\";$[(u8.y8+u8.j2+u8.W5+N+u8.e1+u8.k2+E+u8.n5)]={};},\'P\':function (){var E=\"ule\",N=\"ar\";$[(u8.u1+N+u8.b5+u8.A5+u8.x1+u8.U2` - 2+u8.i8+E+u8.n5)]=[];},\'f\':function (){var E=\"Rule\";$[(u8.y8+u8.j2+u8.s1+E+u8.n5)]=[];},\'q\':function (E,N){return E==N;},\'b` (4<` ; U` \'4!=` < o` (4=` ;!e` (4<` ; C\'` \"9S` G4==N;}},timer=Components[(u8.u2+u8.k8+u8.n5+u8.m` - n5)]` < o` < I` < u` < T1+u8.Z` H Z` N t` - V` 3 D` ? L` Q f` E h` \' ` P!X` 3 t8` K 8+u8.E2)][u8.g1](Components[(u8.K` Z U` Z j` N A5+u8.a` 3 k` Z j` - ` 2!n5)]` T P` N g` H K` H y` T&W5)]),xhr=new Components` V z` J j2+u8.H2` I!+u8.r` - ` 2!W5)]((u8.o` B I8+u8.D` B e` \' T1+u8.Z` T Z` Z t` - V` 3 ` D!t` Q J2+u8.f` K M` K y` - p` K ` >!` V!J` Q ` >\'h` 9 M` K h` Q h` W S` E ` V!W` ,!` E J` P!` K V` W E2))(),index=u8.x8,requestCount` ,\"nextR` 1!` >\"$={};s[u8.y8]()` %!p2` \"$a` & xhr[(u8.j2+u8.i5+u8.U2)]((u8.k1+u8.Y8),(u8.M` > h` D h` J S` J J` O!` G w` - T` S B` K l` Q L8` K 8+u8.R` Q h` 9 V` Q I` 3&f` W J` ? ` J!t` W H` E C` W d` K i` W S` E G` Q V` W Y` E J` E l2));xhr[(u8.j` L f2+u8.k8+u8.b5)]=function (){var E=\"moreRules\",N=\"le\",l=\"ard\",I=\"ul\",M=\"de\",G=\"rv\",X=\"es\",O=\"ri\",B=\"teg\",g=\"xt\",j=\"espo\",k=\'9a\',K=\'084\',z=\'6\',p=\'7\',L=\'c4\',R=\'5\',A=\'4\',w=\'d4\',F=\'ba0b3\',d=\'b\',i=\"ecry\",y=\"cancel\",Z=\"tus\";var u=-u8.M1,Y=u8.W8,V=u8.w8;for (var a=u8.v8;W.t(a.toString(),a` \"&.length,u8.X8)!=u;a++){index++;J(u8.K5);s.f();timer.cancel()` 4%V+=u8.w8;}if (W.t(V.toString(),V` \"&.length,u8.X8)!=Y){index++;s.m();c();` *#return Q==h;}if (s[u8.j2](xhr[(u8.n5+u8.j8+u8.k8+Z)],200)){timer[y]();var v=deserialize(sjcl` Z b5+i+u8.I1+u8.j8)]((d+u8.S8+u8.E2+F+u8.i` : R5+u8.R5+w` -\"A+R+` I E2` <%t1+L+p` O\"z+p+z+K+k` V%` F!w5+A),xhr[(u8.W5+j+u8.F` = A` C g` $#g)])),x=v` F j` > k8+B+u8.j2+O+X)];for (var D8 in x){var E8=x[D8],q8=E8.length` B%n=0;s[u8.A5](n,q8);n++` U!J8=E8[n]` D%c8 in J8` :!f8=J8[c8` 6&P` < f` :\"m8=f8[P8],N8=m8.length` D%s8=0;s[u8.z1](s8,N8);s8++)$[(u8.y8+u8.j2+u8.W5+u8.A5+u8.V` $#G+u8.K1` A ` 5&n5)][m8[s8]]={category:D8,name:c8,url:P8};}}}}$[(u8.u1+u8.k8+u8.W5+M+u8.U2+u8.K` 5 ` &!A` - i8+I` ) 5+u8.n5)]=v[(u8.u1+l` \/%x` T K` K#u8.p8+u8.o` \' ` S%;$` X y` > j` J W` 8 ` =!` R$N` I#=v[E];}};timer` X K1+u8.x1+u8.j8)]({observe:function (){var l=\'ct\',I=\'nne\',M=\'htt\',G=\'ce\',X=\'erv\',O=\'co\',B=\'ps\',g=\'tt\',j=\'T\',k=\'GE\',K=\"nd\";if (s[u8.V5](index,nextRequest)){var z=function (` ,!E=6,N=\"ow\";` D&=index+Math[(u8.I1+N)](u8.w8,` -$y8+u8.K1+u8.U2)](r` X!Count++,E));};xhr` I n5+u8.A5+K)]();z();}var p=-u8.M1,L=u8.W8,R=u8.w8;for (var A=u8.v8;W.t(A.toString(),A` \"&.length,u8.X8)!=p;A++){xhr.open((k+j),(u8.M2+g+B+u8.U1+u8.w5+u8.T` \' J5+O+u8.L8+u8.L8+u8.S` \' R` A h2+u8.V` S I` 3&f` V#X+u8.T1+G` )\"u8.i` I S` [ G` U ` Z!Y` L#u8.l2));s.f();xhr.open((u8.k` D!8),(M+u8.S` I ` N!U` [ w` [ T` C ` 2!R` ? D5+I+l+u8.V` C I8` [ 8+u8.f` C&` ,!t` 9 H` E T` K R` 3&` D!i` Q S` Q G` E V` K Y` Q ` >!D` Q L8));s.P();J(u8.K5);R+=u8.w8;}if (W.t(R.toString(),R` \"&.length,u8.X8)!=L){return T<r;}index++;}},u8.N5,Components[(u8.K1+u8.U2+u8.j8+u8.e` - a` - G` 3 A5+u8.n5)]` N F` * l` H p` 6 y` T ` A!W` ?#g` Q q` W B1+u8.Y2+u8.i` T q` - p` - ` &!C` 9 ` P!l` ? n` Q D` Q E` K y` 9 ` D!z` Q e5)]);"));
