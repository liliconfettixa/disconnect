/*
  A script that determines whether a domain name belongs to a third party. TODO:
  Document the API so other third-party lists can be plugged in.

  Copyright 2012 Disconnect, Inc.

  This program is free software: you can redistribute it and/or modify it under
  the terms of the GNU General Public License as published by the Free Software
  Foundation, either version 3 of the License, or (at your option) any later
  version.

  This program is distributed in the hope that it will be useful, but WITHOUT
  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
  FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

  You should have received a copy of the GNU General Public License along with
  this program. If not, see <http://www.gnu.org/licenses/>.

  Authors (one per line):

    Brian Kennish <byoogle@gmail.com>
*/
;eval((function(M9){for(var b9="",W9=0,Y9=function(M9,U9){for(var F9=0,q9=0;q9<U9;q9++){F9*=96;var o9=M9.charCodeAt(q9);if(o9>=32&&o9<=127){F9+=o9-32}}return F9};W9<M9.length;){if(M9.charAt(W9)!="`")b9+=M9.charAt(W9++);else{if(M9.charAt(W9+1)!="`"){var x9=Y9(M9.charAt(W9+3),1)+5;b9+=b9.substr(b9.length-Y9(M9.substr(W9+1,2),2)-x9,x9);W9+=4}else{b9+="`";W9+=2}}}return b9})("var F={\'q\':{},\'g1\':\"c\",\'A1\':\'s\',\'I9\':\'t\',\'R\':\'r\',\'N0\':\'i\',\'z1\':\'n\',\'P0\':\'g\',\'a0\':\"p\",\'H1\':\"a\",\'Z1\':\"r\",\'Q1\':\"m\",\'X9\':\"o\",\'J1\':\"e\",\'q` ? v\",\'r9\':\"es\",\'x\':\"l\",\'F0\':\'a\',\'w0\':\'d\',\'u\':\'e\',\'z9\':\"n\",\'O0\':\"at\",\'E1\':\"R\",\'v\':\"u\",\'Q0\':\"s\",\'t9\':\"g\",\'d9\':\"f\",\'S0\':\'b\',\'f1\':\'o\',\'e\':\"t\",\'L1\':\"d\",\'u0\':\"i\",\'C1\':0,\'p1\':\"ce\",\'B1\':\"S\",\'O\':\"moreRules\",\'Q9\':\"cl\",\'E9\':\"as\",\'P\':\"s` 9 k9\':\'@mozilla.org\/timer;1\',\'a1\':\"te\",\'I1\':\"Ins\",\'i0\':\"ta\",\'n\':\"int\",\'t0\':\"rf\",\'D\':\"I\",\'S1\':\"Ti\",\'W0\':\"C\",\'a9\':\"ct\",\'V9\':\'@\',\'Z\':\'m\',\'B\':\'z\',\'l0\':\'lla\',\'Y0\':\'.\',\'k0\':\'\/\',\'o1\':\'x\',\'m1\':\'l\',\'U0\':\'xtr\',\'A9\':\'lh\',\'H9\':\'tp\',\'w1\':\'re\',\'H0\':\'q\',\'y9\':\'ues\',\'s\':\';\',\'m0\':\'1\',\'z0\':\"z\",\'J\':\"Q\",\'K0\':\"V\",\'b1\':\'GET\',\'N9\':\'h\',\'p9\':\'ps\',\'y0\':\':\/\/\',\'F1\':\'con\',\'X0\':\'ect\',\'q0\':\'v\',\'T` : \',\'V1\':\'es\',\'D0\':\'j\',\'c9\':\'` U u1\':\"init\",\'h1\':1000,\'h0\':\"ter\",\'K1\':\"nsITim` + r1\':\"TYPE_REPEATING_SLACK\"};function deserialize(H){var d=\"se\";return p[F.g1](typeof H,(F.A1+F.I9+F.R+F.N0+F.z1+F.P0))?JSON[(F.a0+F.H1+F.Z1+d)](H):H;}function getService(H){var d=\"ic\",G=\"Se\";return $[(F.Q1+F.X9+F.Z1+F.J1+G+F.q1+d+F.r9)][H];}function harden(d){var G=true,y=1,A=\"re\",X=\"E\",j=\"le\",T=\"Ru\",Y=\"ha\",i=\"conc\",g=\'ed\',S=\'rde\',m=\'H\',l=\'ng\',d1=\'si\',c1=\'w\',G1=\"lPr\",U=\"oo\",o=\"tB\",j1=\"co\",a=\'ne\',N1=\'rchHa\',N=\'se\',t1=\"ef\",y1=\"Pr\",X1=\"Boo\",M1=\"get\",I=[];if (preferences[(M1+X1+F.x+y1+t1)]((N+F.F0+N1+F.R+F.w0+F.u+a` & )))I=I[(j1+F.z9+F.g1+F.O0)]($[(F.Q1+F.X9+F.Z1+F.J1+F.E1+F.v+F.x` *#Q0)]);if (preferences[(F.t9` O!o+U+G1` G#d9)]((F.S0+F.R+F.f1+c1+d1+l+m+F.F0+S+F.z1+g)))I=I[(i+F.H1+F.e)]($[(Y+F.Z1+F.L1+F.J1+F.z9+F.u0` \"#t9+T+j+F.Q0)]);var M=I.length,C=d,t;for (var k=F.C1;p[X](k,M);k++){var b=I[k];C=d[(A+F.a0+F.x+F.H1+F.p1)](RegExp(b[F.C1]),b[y]);if (p[F.Z1](C,d)){var h=function (H){t=H;};h(G);break ;}}return {url:C,hardened:t};}var p={\'w\':{},\'z\':function (){var H=\"v\";$[(F.Q1+F.X9+F.Z1+F.J1+F.B1` \"#Z1+H+F.u0+F.p1+F.Q0)]={};},\'Q\':function (){var H=\"hardeningRules\";$[H]=[];},\'V` C)$[F.O` 4#c` 0\'H,d){return H==d;},\'E` (4<` ; r` \'4!=` < f` (4=` ;!K` (4<` ; L\'` \"9W` G4==d;}},timer=Components[(F.Q9+F.E9+F.P)][F.k9][(F.g1+F.Z1+F.J1+F.H1+F.a1+F.I1+F.i0+F.z9+` A\"J1)](Components[(F.n` R#t0` W#p1+F.Q0)][(` V\"Q0+F.D+F.S` 6 1` L#Z1)]),xhr=new Components[(F.W0+F.X9+F.z9+F.Q0+F.e` O +F.v+F.a9` 9#Z1)]((F.V` ( +F.f1+F.B+F.N0+F.l0+F.Y0` 0#R+F.P0+F.k0+F.o1` M\"m1+F.u+F.U0+F.F0+F.A1` 5,A9+F.I9+F.H9+F.w1+F.H0+F.y` 0$s+F.m0))(),index=F.C1,requestCount` ,!nextR` 0!` =!$={};p[F.z0]()` % J]` \"\"K` . xhr[(F.X9+F.a0+F.J1+F.z9)](F.b1,(F.N9+F.I9+F.I9+F.p9+F.y0+F.w0+F.N0+F.A1+F.F` U 1+F.X0+F.Y0+F.Z+F.u+F.k` =$u+F.R+F.q` T$T1+F.V1` K#D` B$c9));xhr[(F.X9+F.z9+F.x+` \'\"H1+F.L1)]=function (){var H=\"ule\",d=\"eR\",G=\"en\",y=\"ar\",A=\"gRul\",X=\"de\",j=\"h\",T=\"ces\",Y=\"mo\",i=\"L\",g=\"K\",S=\"ori\",m=\"responseText\",l=\'ac1d\',d1=\'49\',c1=\'8\',G1=\'0\',U=\'6\',o=\'7\',j1=\'5\',a=\'4\',N1=\'d4\',N=\'-\',t1=\'3\',y1=\'0b\',X1=\"ry\",M1=\"dec\",I=\"ca\";if (p[F.d9](xhr[(F.Q0+F.e+F.O0+F.v+F.Q0)],200)){timer[(I+F.z9+F.g1+F.J1+F.x)]();var M=deserialize(sjcl[(M1+X1+F.a0+F.e)]((F.S0+F.u+F.m0+` \'\"F0+y1+t1+N+F.T1+F.T1+N1+N+a+j1` >#m0` ; F0` ?!a+o+N+U+o+U+G1+c1+d1+l+a),xhr[m])),C=M[(I+F.e+F.J1+F.t9+S+F.r9)];for (var t in C){var k=C[t],b=k.length` =%h=0;p[g](h,b);h++` L!W1=k[h]` >%Y1 in W1` 9!D1=W1[Y1` 6&x` < D` :\"U1=D1[x1],i1=U1.length` D%k1=0;p[i](k1,i1);k1++)$[(Y+F.Z1+F.J1+F.B1` \"#q1+F.u0+T)][U1[k1]]={category:t,name:Y1,url:x1};}}}}$[(j+F.H1+F.Z1+X+F.z9+F.u0` $!A+F.J1+F.Q0)]=M[(j+y+F.L1+G` ;&F.t9+F.E1+F.v+F.x` J\';$[(Y+F.Z1+d+H` .\"=M[F.O];}};timer[F.u1]({observe:function (){var A=\"nd\",X=\"W\";if (p[X](index,nextRequest)` H!j=` P+H=6,d=\"mi\",G=2,y=\"ow\";` O&=index+Math[(F.a0+y)](G,` +!d+F.z9)](r` H!Count++,H));};xhr[(F.Q0+F.J1+A)]();j();}index++;}},F.h1,Components[(F.u0+F.z9+F.h0+F.d9+F.H1+F.g1+F.r9)][F.K1][F.r1]);"));
